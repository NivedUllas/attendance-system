<!-- 
Contactless Attendance Management with Face Detection
Author: Nived Ullas
GitHub: https://github.com/NivedUllas
Created: October 2025
Description: [Brief description of this file's purpose]
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TensorFlow.js Attendance System</title>
    <link rel="stylesheet" href="style.css">
    <!-- TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0"></script>
    <!-- FaceMesh for face detection -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/face-landmarks-detection@0.0.1/dist/face-landmarks-detection.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- Login/Register Screen -->
        <div id="auth-screen" class="screen active">
            <div class="auth-container">
                <h2>ðŸ¤– TensorFlow.js Attendance</h2>
                <form id="auth-form" novalidate>
                    <div id="register-fields" style="display: none;">
                        <input type="text" id="name" name="name" placeholder="Full Name">
                    </div>
                    <input type="email" id="email" name="email" placeholder="Email Address" required>
                    <input type="password" id="password" name="password" placeholder="Password" required>
                    <button type="submit" id="auth-btn">Login</button>
                </form>
                <p id="toggle-auth">Don't have an account? <a href="#">Register</a></p>
                <div id="auth-message"></div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div id="dashboard" class="screen">
            <header class="dashboard-header">
                <h1>ðŸ“Š TensorFlow.js Attendance</h1>
                <div class="user-info">
                    <span id="user-name">User</span>
                    <button id="logout-btn" class="logout-btn">Logout</button>
                </div>
            </header>

            <nav class="tabs">
                <button class="tab-btn active" data-tab="register">ðŸ‘¤ Register Student</button>
                <button class="tab-btn" data-tab="mark">âœ… Mark Attendance</button>
                <button class="tab-btn" data-tab="students">ðŸ“‹ View Records</button>
            </nav>

            <main class="dashboard-content">
                <!-- Register Face Tab -->
                <div id="register-tab" class="tab-content active">
                    <div class="tab-header">
                        <h3>Register New Student</h3>
                        <p>TensorFlow.js will analyze face features and create a unique descriptor</p>
                    </div>
                    
                    <div class="camera-section">
                        <div class="video-container">
                            <video id="video" width="600" height="450" autoplay muted></video>
                            <canvas id="canvas" class="overlay"></canvas>
                        </div>
                        <div class="controls">
                            <button id="load-models" class="btn btn-primary">Load TensorFlow Models</button>
                            <button id="capture-btn" class="btn btn-secondary" disabled>Analyze Face</button>
                        </div>
                    </div>
                    
                    <div class="student-info">
                        <input type="text" id="student-name" placeholder="Student Full Name" class="input-field">
                        <input type="text" id="student-roll" placeholder="Roll Number" class="input-field">
                        <button id="save-face" class="btn btn-success" disabled>Save Student Data</button>
                    </div>
                    <div id="register-status" class="status-message"></div>
                </div>

                <!-- Mark Attendance Tab -->
                <div id="mark-tab" class="tab-content">
                    <div class="tab-header">
                        <h3>Mark Attendance</h3>
                        <p>Real-time face recognition using TensorFlow.js in your browser</p>
                    </div>
                    
                    <div class="camera-section">
                        <div class="video-container">
                            <video id="attendance-video" width="600" height="450" autoplay muted></video>
                            <canvas id="attendance-canvas" class="overlay"></canvas>
                        </div>
                        <div class="controls">
                            <button id="start-recognition" class="btn btn-primary" disabled>Start Recognition</button>
                            <button id="stop-recognition" class="btn btn-danger" disabled>Stop</button>
                        </div>
                    </div>
                    
                    <div class="recognition-info">
                        <div id="attendance-status" class="status-message"></div>
                        <div id="recognition-stats">
                            <p>Registered Students: <span id="students-count">0</span></p>
                            <p>Detection Confidence: <span id="confidence">0%</span></p>
                        </div>
                    </div>
                </div>

                <!-- Students List Tab -->
                <div id="students-tab" class="tab-content">
                    <div class="tab-header">
                        <h3>Students & Attendance Records</h3>
                        <p>View all registered students and attendance history</p>
                    </div>
                    
                    <div class="records-section">
                        <div class="students-list">
                            <h4>ðŸ“š Registered Students</h4>
                            <div id="students-list-container" class="cards-container">
                                <!-- Students will be loaded here -->
                            </div>
                        </div>
                        
                        <div class="attendance-records">
                            <h4>ðŸ“… Recent Attendance</h4>
                            <div id="attendance-records-container" class="cards-container">
                                <!-- Attendance records will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>